/*
 * Eve 0.2.2 - JavaScript Events Library
 *
 * Copyright (c) 2011 Dmitry Baranovskiy (http://dmitry.baranovskiy.com/)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */

var eve=function(){var a="0.2.2",b="hasOwnProperty",c="length",d=/[\.\/]/,e="*",f,g={n:{}},h=function(a,b){var d=g,e=Array.prototype.slice.call(arguments,2),i=h.listeners(a),j=[];f=a;for(var k=0,l=i[c];k<l;k++)try{i[k].apply(b,e)}catch(m){j.push({error:m&&m.message||m,func:i[k]})}if(j[c])return j};h.listeners=function(a){var b=a.split(d),f=g,h,i,j,k,l,m,n,o,p=[f],q=[];for(k=0,l=b[c];k<l;k++){o=[];for(m=0,n=p[c];m<n;m++){f=p[m].n,i=[f[b[k]],f[e]],j=2;while(j--)h=i[j],h&&(o.push(h),q=q.concat(h.f||[]))}p=o}return q},h.on=function(a,b){var e=a.split(d),f=g;for(var h=0,i=e[c];h<i;h++)f=f.n,!f[e[h]]&&(f[e[h]]={n:{}}),f=f[e[h]];f.f=f.f||[];for(h=0,i=f.f[c];h<i;h++)if(f.f[h]==b)return!1;f.f.push(b);return!0},h.nt=function(a){if(a)return(new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)")).test(f);return f},h.unbind=function(a,f){var h=a.split(d),i,j,k,l=[g];for(var m=0,n=h[c];m<n;m++)for(var o=0;o<l[c];o+=k[c]-2){k=[o,1],i=l[o].n;if(h[m]!=e)i[h[m]]&&k.push(i[h[m]]);else for(j in i)i[b](j)&&k.push(i[j]);l.splice.apply(l,k)}for(m=0,n=l[c];m<n;m++){i=l[m];while(i.n){if(f){if(i.f){for(m=0,n=i.f[c];m<n;m++)if(i.f[m]==f){i.f.splice(m,1);break}!i.f[c]&&delete i.f}for(j in i.n)if(i.n[b](j)&&i.n[j].f){var p=i.n[j].f;for(m=0,n=p[c];m<n;m++)if(p[m]==f){p.splice(m,1);break}!p[c]&&delete i.n[j].f}}else{delete i.f;for(j in i.n)i.n[b](j)&&i.n[j].f&&delete i.n[j].f}i=i.n}}},h.version=a,h.toString=function(){return"You are running Eve "+a};return h}();typeof exports!="undefined"&&exports!=null&&(exports.eve=eve)